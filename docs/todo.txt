// this one should not change the order of the cardSetCards or a card set where the cards have no order and you change the cardsets of a card the card will jump to the top
export const addOrUpdateCardSetCardsForCardId = ({state} : Context, {cardId, cardSetCards}: {cardId: number, cardSetCards: CardSetCard[]}) => {
    state.data.cardSetCards = state.data.cardSetCards.filter(csc => csc.cardId !== cardId);
    state.data.cardSetCards.push(...cardSetCards);
}

show the number of cards in each drill and prevent drilling with zero cards
show if there is something to resume before starting
show stats for each card

social logins
invite system
- invite users to workspace

reverse cards when drilling
audio first drilling mode

when creating or editing a card set there should be a "parents" multi choice select box

add a "create card set"-button in the workspace view.

auto-start pm2 on reboot

drill except (not the same as unchecking something.. because if you uncheck one cardset the cards could still be in other cardsets.)


be able to delete a card from all card-sets and the card itself. without having to delete it from every card set manually.

check for duplicates when saving cards


what to do with "abandoned" drill runs? delete them after a while?
sign-in-form ENTER key should submit
ability to go back to previous card in drill.
font-sizes not working inside "add cards from other card sets modal"
fitty
change password
show stats for cards!
monit!
check logs!
style drill run page for mobile - make font size dynamic to fit screen?
drill everything EXCEPT. (for example all consonants except obsolote ones)
make a build/deploy script
adding users to workspace should not require separate save?

look for cards not in any card sets

"expand all" button in drill page tree

show the cards under the tree for card-sets that have children card sets.


COSMETIC: make loading spinner a card-shuffle
COSMETIC: make the loader outside react same as inside react


FUTURE: stop allowing unsigned in users to do anything?! OR create temporary session id's for them so that they can store drill runs etc...
FUTURE: different modals should have their own urls so that browser back button works
FUTURE: throw exceptions everywhere instead of "return UnexpectedError"?
FUTURE: uncaught exception should log all the same stuff as logWithRequest
FUTURE: clean up upload orphans
FUTURE: should be able to select additional card sets in the create card modal